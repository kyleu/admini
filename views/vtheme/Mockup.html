{% import "fmt" %}
{% import "github.com/kyleu/admini/app/controller/cutil" %}
{% import "github.com/kyleu/admini/app/theme" %}
{% import "github.com/kyleu/admini/app/util" %}
{% import "github.com/kyleu/admini/views/components" %}
{% import "github.com/kyleu/admini/views/vutil" %}

{% func Mockup(t *theme.Theme, indent int, ps *cutil.PageState) %}{% stripspace %}
  {%= mockup("light", t.Light, indent, ps) %}
  {%= mockup("dark", t.Dark, indent, ps) %}
  <div class="title">{%s t.Key %}</div>
{% endstripspace %}{% endfunc %}

{% func mockup(mode string, c *theme.Colors, indent int, ps *cutil.PageState) %}{% stripspace %}
  {% code
    navStyle := fmt.Sprintf("color: %s; background-color: %s;", c.NavForeground, c.NavBackground)

    menuStyle := fmt.Sprintf("color: %s; background-color: %s;", c.MenuForeground, c.MenuBackground)
    menuLinkStyle := fmt.Sprintf("color: %s;", c.MenuForeground)
    menuLinkSelectedStyle := fmt.Sprintf("color: %s; background-color: %s;", c.MenuSelectedForeground, c.MenuSelectedBackground)

    mainStyle := fmt.Sprintf("color: %s; background-color: %s;", c.Foreground, c.Background)
    mutedStyle := fmt.Sprintf("color: %s;", c.ForegroundMuted)
    linkStyle := fmt.Sprintf("color: %s;", c.LinkForeground)
    linkVisitedStyle := fmt.Sprintf("color: %s;", c.LinkVisitedForeground)
  %}
  {%= vutil.Indent(true, indent) %}
  <div class="mockup only-{%s mode %}">
    <div class="mock-nav" style="{%s navStyle %}">{%= components.SVGRef(`app`, 12, 12, `icon`, ps) %}{%s util.AppName %}</div>
    <div class="mock-menu" style="{%s menuStyle %}">
      <div class="mock-link" style="{%s menuLinkStyle %}">A</div>
      <div class="mock-link" style="{%s menuLinkStyle %} {%s menuLinkSelectedStyle %}">B</div>
      <div class="mock-link" style="{%s menuLinkStyle %}">C</div>
      <div class="mock-link" style="{%s menuLinkStyle %}">D</div>
    </div>
    <div class="mock-main" style="{%s mainStyle %}">
      <div>Welcome!</div>
      <div>
        <div style="{%s mutedStyle %}">Here's some links:</div>
        <ul>
          <li class="mock-link" style="{%s linkStyle %}">New</li>
          <li class="mock-link" style="{%s linkStyle %}">Also New</li>
          <li class="mock-link" style="{%s linkVisitedStyle %}">Visited</li>
        </ul>
      </div>
    </div>
  {%= vutil.Indent(true, indent) %}
  </div>
{% endstripspace %}{% endfunc %}
