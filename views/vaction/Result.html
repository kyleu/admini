{% import "github.com/kyleu/admini/app/project/action" %}
{% import "github.com/kyleu/admini/app/controller/cutil" %}
{% import "github.com/kyleu/admini/views/components" %}
{% import "github.com/kyleu/admini/views/vutil" %}

{% func resultChildren(req *cutil.WorkspaceRequest, act *action.Action, indent int) %}{% stripspace %}
  {%- if len(act.Children) > 0 -%}
  <div class="card">
    {%= vutil.Indent(true, indent + 1) %}
    <h3>Children</h3>
    {%= vutil.Indent(true, indent + 1) %}
    <ul>
    {%- for _, kid := range act.Children -%}
      {%= vutil.Indent(true, indent + 2) %}
      <li><a href="{%s req.Route(append(act.Path(), kid.Key)...) %}">{%s kid.Name() %}</a></li>
    {%- endfor -%}
    {%= vutil.Indent(true, indent + 1) %}
    </ul>
  {%= vutil.Indent(true, indent) %}
  </div>
  {%- endif -%}
{% endstripspace %}{% endfunc %}

{% func resultDebug(req *cutil.WorkspaceRequest, act *action.Action) %}
  {%= components.JSONModal("action", "Action", act, 1) %}
{% endfunc %}
