{% import "github.com/kyleu/admini/app" %}
{% import "github.com/kyleu/admini/app/controller/cutil" %}
{% import "github.com/kyleu/admini/app/project" %}
{% import "github.com/kyleu/admini/views/layout" %}

{% code type List struct {
  layout.Basic
  Projects project.Projects
} %}

{% func (p *List) Body(as *app.State, ps *cutil.PageState) %}
<div class="card">
  <div class="right"><a href="{%s as.Route(`project.new.form`) %}">add new</a></div>
  <h3>Projects</h3>
  {%= Table(p.Projects, as, ps) %}
</div>
{% endfunc %}
