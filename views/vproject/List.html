{% import (
  "github.com/kyleu/admini/app"
  "github.com/kyleu/admini/app/controller/cutil"
  "github.com/kyleu/admini/app/project"
  "github.com/kyleu/admini/views/components"
  "github.com/kyleu/admini/views/layout"
) %}

{% code type List struct {
  layout.Basic
  Projects project.Projects
} %}

{% func (p *List) Body(as *app.State, ps *cutil.PageState) %}
  <div class="card">
    <div class="right"><a href="/project/_new" title="add new project">{%= components.SVGRef(`plus`, 20, 20, `icon`, ps) %}</a></div>
    <h3>Projects</h3>
    {%= Table(p.Projects, as, ps) %}
  </div>
{% endfunc %}
