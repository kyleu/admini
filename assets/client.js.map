{
  "version": 3,
  "sources": ["../client/src/menu.ts", "../client/src/mode.ts", "../client/src/flash.ts", "../client/src/link.ts", "../client/src/dom.ts", "../client/src/time.ts", "../client/src/autocomplete.ts", "../client/src/modal.ts", "../client/src/util.ts", "../client/src/tags.ts", "../client/src/editor.ts", "../client/src/theme.ts", "../client/src/sortable.ts", "../client/src/app.ts", "../client/src/client.ts"],
  "sourcesContent": ["// Content managed by Project Forge, see [projectforge.md] for details.\nexport function menuInit() {\n  for (const n of Array.from(document.querySelectorAll(\".menu-container .final\"))) {\n    n.scrollIntoView({block: \"nearest\"});\n  }\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nconst l = \"mode-light\"\nconst d = \"mode-dark\"\n\nexport function modeInit() {\n  for (const el of Array.from(document.getElementsByClassName(\"mode-input\"))) {\n    const i = (el as HTMLInputElement);\n    i.onclick = function() {\n      switch (i.value) {\n        case \"\":\n          document.body.classList.remove(l);\n          document.body.classList.remove(d);\n          break;\n        case \"light\":\n          document.body.classList.add(l);\n          document.body.classList.remove(d);\n          break;\n        case \"dark\":\n          document.body.classList.remove(l);\n          document.body.classList.add(d);\n          break;\n      }\n    }\n  }\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nexport function flashCreate(key: string, level: string, msg: string) {\n  let container = document.getElementById(\"flash-container\");\n  if (container === null) {\n    container = document.createElement(\"div\");\n    container.id = \"flash-container\";\n    document.body.insertAdjacentElement(\"afterbegin\", container);\n  }\n  const fl = document.createElement(\"div\");\n  fl.className = \"flash\";\n\n  const radio = document.createElement(\"input\");\n  radio.type = \"radio\";\n  radio.style.display = \"none\";\n  radio.id = \"hide-flash-\" + key;\n  fl.appendChild(radio);\n\n  const label = document.createElement(\"label\");\n  label.htmlFor = \"hide-flash-\" + key;\n  const close = document.createElement(\"span\");\n  close.innerHTML = \"\u00D7\";\n  label.appendChild(close);\n  fl.appendChild(label);\n\n  const content = document.createElement(\"div\");\n  content.className = \"content flash-\" + level;\n  content.innerText = msg;\n  fl.appendChild(content);\n\n  container.appendChild(fl);\n  fade(fl);\n}\n\nexport function flashInit() {\n  (window as any).admini.flash = flashCreate;\n  const container = document.getElementById(\"flash-container\");\n  if (container === null) {\n    return;\n  }\n  const x = container.querySelectorAll<HTMLElement>(\".flash\");\n  if (x.length > 0) {\n    for (const f of x) {\n      fade(f);\n    }\n  }\n}\n\nfunction fade(el: HTMLElement) {\n  setTimeout(() => {\n    el.style.opacity = \"0\";\n    setTimeout(() => el.remove(), 500);\n  }, 5000)\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nexport function linkInit() {\n  for (const l of Array.from(document.getElementsByClassName(\"link-confirm\"))) {\n    const el = (l as HTMLAnchorElement);\n    el.onclick = function() {\n      let msg = el.dataset.message as string;\n      if (msg && msg.length === 0) {\n        msg = \"Are you sure?\";\n      }\n      return confirm(msg);\n    }\n  }\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nexport function els<T extends HTMLElement>(selector: string, context?: HTMLElement): readonly T[] {\n  let result: NodeListOf<Element>;\n  if (context) {\n    result = context.querySelectorAll(selector);\n  } else {\n    result = document.querySelectorAll(selector);\n  }\n  const ret: T[] = []\n  result.forEach(v => {\n    ret.push(v as T);\n  });\n  return ret;\n}\n\nexport function opt<T extends HTMLElement>(selector: string, context?: HTMLElement): T | undefined {\n  const e = els<T>(selector, context);\n  switch (e.length) {\n    case 0:\n      return undefined;\n    case 1:\n      return e[0];\n    default:\n      console.warn(`found [${e.length}] elements with selector [${selector}], wanted zero or one`);\n  }\n}\n\nexport function req<T extends HTMLElement>(selector: string, context?: HTMLElement): T {\n  const res = opt<T>(selector, context);\n  if (!res) {\n    console.warn(`no element found for selector [${selector}]`);\n  }\n  return res!;\n}\n\nexport function setHTML(el: string | HTMLElement, html: string) {\n  if (typeof el === \"string\") {\n    el = req(el);\n  }\n  el.innerHTML = html;\n  return el;\n}\n\nexport function setDisplay(el: string | HTMLElement, condition: boolean, v: string = \"block\") {\n  if (typeof el === \"string\") {\n    el = req(el);\n  }\n\n  el.style.display = condition ? v : \"none\";\n  return el;\n}\n\nexport function setText(el: string | HTMLElement, text: string): HTMLElement {\n  if (typeof el === \"string\") {\n    el = req(el);\n  }\n  el.innerText = text;\n  return el;\n}\n\nexport function clear(el: string | HTMLElement) {\n  return setHTML(el, \"\");\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nimport {els} from \"./dom\";\n\nexport function timeInit() {\n  (window as any).admini.relativeTime = relativeTime;\n  els(\".reltime\").forEach(el => {\n    const t = el.dataset[\"time\"] || \"\";\n    el.innerText = relativeTime(t);\n  })\n}\n\nexport function relativeTime(time: string): string {\n  const date = new Date((time || \"\").replace(/-/g, \"/\").replace(/[TZ]/g, \" \") + \" UTC\");\n  const diff = (((new Date()).getTime() - date.getTime()) / 1000);\n  const day_diff = Math.floor(diff / 86400);\n  const year = date.getFullYear();\n  const month = date.getMonth() + 1;\n  const day = date.getDate();\n\n  if (isNaN(day_diff) || day_diff < 0 || day_diff >= 31) {\n    console.log(\"### big\", day_diff)\n    return (\n      year.toString() + '-'\n      + ((month < 10) ? '0' + month.toString() : month.toString()) + '-'\n      + ((day < 10) ? '0' + day.toString() : day.toString())\n    );\n  }\n\n  return (\n    (\n      day_diff == 0 && (\n        (diff < 60 && \"just now\") ||\n        (diff < 120 && \"1 minute ago\") ||\n        (diff < 3600 && Math.floor(diff / 60) + \" minutes ago\") ||\n        (diff < 7200 && \"1 hour ago\") ||\n        (diff < 86400 && Math.floor(diff / 3600) + \" hours ago\")\n      )\n    ) ||\n    (day_diff == 1 && \"Yesterday\") ||\n    (day_diff < 7 && day_diff + \" days ago\") ||\n    (day_diff < 31 && Math.ceil(day_diff / 7) + \" weeks ago\") ||\n    \"\"\n  );\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nexport function autocompleteInit() {\n  (window as any).admini.autocomplete = autocomplete;\n}\n\nfunction autocomplete(el: HTMLInputElement, url: string, field: string, title: (x: any) => string, val: (x: any) => string) {\n  if (!el) {\n    return;\n  }\n  const listId = el.id + \"-list\";\n  const list = document.createElement('datalist');\n\n  const loadingOpt = document.createElement(\"option\");\n  loadingOpt.value = \"\";\n  loadingOpt.innerText = \"Loading...\";\n  list.appendChild(loadingOpt);\n\n  list.id = listId;\n  el.parentElement?.prepend(list);\n\n  el.setAttribute(\"autocomplete\", \"off\");\n  el.setAttribute(\"list\", listId);\n\n  const cache: {\n    [_: string]: {\n      url: string;\n      complete: boolean;\n      data: any[];\n      frag: DocumentFragment;\n    }\n  } = {};\n  let lastQuery = \"\";\n\n  function getURL(q: string): string {\n    let dest = url;\n    if (dest.includes(\"?\")) {\n      return dest + \"&t=json&\" + field + \"=\" + encodeURIComponent(q);\n    } else {\n      return dest + \"?t=json&\" + field + \"=\" + encodeURIComponent(q);\n    }\n  }\n\n  function datalistUpdate(q: string) {\n    const c = cache[q];\n    if (!c || !c.frag) {\n      return;\n    }\n    lastQuery = q;\n    list.replaceChildren(c.frag.cloneNode(true));\n  }\n\n  function f() {\n    const q = el.value;\n    if (q.length === 0) {\n      return;\n    }\n    let dest = getURL(q);\n    let proceed: boolean = (!q || !lastQuery);\n    if (!proceed) {\n      const l = cache[lastQuery];\n      if (l) {\n        proceed = !l.data.find(d => q === val(d));\n      }\n    }\n    if (!proceed) {\n      return;\n    }\n    if (cache[q] && cache[q].url === dest) {\n      datalistUpdate(q);\n      return;\n    }\n\n    fetch(dest).then(res => res.json()).then(data => {\n      if (!data) return;\n      const arr = Array.isArray(data) ? data : [data];\n      const frag = document.createDocumentFragment();\n      let optMax = 10;\n      for (let d = 0; d < arr.length && optMax > 0; d++) {\n        const v = val(arr[d]);\n        const t = title(arr[d]);\n        if (v) {\n          const option = document.createElement('option');\n          option.value = v;\n          option.innerText = t;\n          frag.appendChild(option);\n          optMax--;\n        }\n      }\n      cache[q] = {url: dest, data: arr, frag: frag, complete: false};\n      datalistUpdate(q);\n    });\n  }\n\n  el.oninput = debounce(f, 250);\n  console.log(\"managing [\" + el.id + \"] autocomplete\");\n}\n\nfunction debounce(callback: any, wait: number) {\n  let timeoutId = 0;\n  return function (...args: any) {\n    if (timeoutId !== 0) {\n      window.clearTimeout(timeoutId);\n    }\n    timeoutId = window.setTimeout(function () {\n      callback.apply(null, args);\n    }, wait);\n  };\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nexport function modalInit() {\n  document.addEventListener('keydown', (event) => {\n    if (event.key === 'Escape') {\n      if (document.location.hash.startsWith(\"#modal-\")) {\n        document.location.hash = \"\";\n      }\n    }\n  })\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nexport const appKey = \"admini\";\nexport const appName = \"Admini\";\n\nexport function svgRef(key: string, size: number): string {\n  return `<svg class=\"icon\" style=\"width: ${size}px; height: ${size}px;\"><use xlink:href=\"#svg-${key}\"></use></svg>`;\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nimport {els, opt, req, setDisplay} from \"./dom\";\nimport {svgRef} from \"./util\";\n\nfunction tagsWire(el: HTMLElement) {\n  const input = req<HTMLInputElement>(\"input.result\", el);\n  const tagContainer = req<HTMLDivElement>(\".tags\", el);\n  const vals = input.value.split(\",\").map(x => x.trim()).filter(k => k !== \"\");\n\n  setDisplay(input, false);\n  tagContainer.innerHTML = \"\";\n  for (const v of vals) {\n    tagContainer.appendChild(tagsRender(v, el));\n  }\n\n  opt(\".add-item\", el)?.remove();\n\n  const add = document.createElement(\"div\");\n  add.className = \"add-item\";\n  add.innerHTML = svgRef(\"plus\", 22);\n  add.onclick = function () {\n    tagsAdd(tagContainer, el);\n  }\n  el.insertBefore(add, req(\".clear\", el));\n}\n\nexport function tagsInit() {\n  (window as any).admini.tags = tagsWire;\n  for (const el of els(\".tag-editor\")) {\n    tagsWire(el);\n  }\n}\n\nfunction compareOrder(elem1: HTMLElement, elem2: HTMLElement) {\n  if (elem1.parentElement !== elem2.parentElement) {\n    return null;\n  }\n  if (elem1 === elem2) {\n    return 0;\n  }\n  if (elem1.compareDocumentPosition(elem2) & Node.DOCUMENT_POSITION_FOLLOWING) {\n    return -1;\n  }\n  return 1;\n}\n\nlet draggedElement: HTMLElement;\n\nfunction tagsRender(v: string, editorEl: HTMLElement): HTMLDivElement {\n  const item = document.createElement(\"div\");\n  item.className = \"item\";\n  item.draggable = true;\n  item.ondragstart = function (e) {\n    e.dataTransfer!.setDragImage(document.createElement(\"div\"), 0, 0)\n    item.classList.add(\"dragging\");\n    draggedElement = item;\n  }\n  item.ondragover = function (e) {\n    const order = compareOrder(item, draggedElement);\n    if (!order) {\n      return;\n    }\n    const baseElement = order === -1 ? item : item.nextSibling;\n    draggedElement.parentElement!.insertBefore(draggedElement, baseElement);\n    tagsUpdate(editorEl);\n  }\n  item.ondrop = function (e) {\n    e.preventDefault();\n  }\n  item.ondragend = function (e) {\n    item.classList.remove(\"dragging\");\n    e.preventDefault();\n  }\n\n  const value = document.createElement(\"div\");\n  value.innerText = v;\n  value.className = \"value\";\n  value.onclick = function () {\n    tagsEdit(item);\n  }\n  item.appendChild(value);\n\n  const editor = document.createElement(\"input\");\n  editor.className = \"editor\";\n  item.appendChild(editor);\n\n  const close = document.createElement(\"div\");\n  close.innerHTML = svgRef(\"times\", 13);\n  close.className = \"close\";\n  close.onclick = function () {\n    tagsRemove(item);\n  }\n  item.appendChild(close);\n\n  return item;\n}\n\nfunction tagsRemove(itemEl: HTMLElement) {\n  const editorEl = itemEl.parentElement!.parentElement!;\n  itemEl.remove();\n  tagsUpdate(editorEl);\n}\n\nfunction tagsAdd(tagContainerEl: HTMLElement, editorEl: HTMLElement) {\n  const itemEl = tagsRender(\"\", editorEl);\n  tagContainerEl.appendChild(itemEl);\n  tagsEdit(itemEl);\n}\n\nfunction tagsEdit(itemEl: HTMLElement) {\n  const value = req(\".value\", itemEl);\n  const edit = req<HTMLInputElement>(\".editor\", itemEl);\n  edit.value = value.innerText;\n  const apply = function () {\n    if (edit.value === \"\") {\n      itemEl.remove();\n      return;\n    }\n    value.innerText = edit.value;\n    setDisplay(value, true);\n    setDisplay(edit, false);\n    const editorEl = itemEl.parentElement!.parentElement!;\n    tagsUpdate(editorEl);\n  }\n  edit.onblur = apply;\n  edit.onkeydown = function (event) {\n    if (event.code === \"Enter\") {\n      event.preventDefault();\n      apply();\n      return false;\n    }\n  }\n  setDisplay(value, false);\n  setDisplay(edit, true);\n  edit.focus();\n}\n\nfunction tagsUpdate(editorEl: HTMLElement) {\n  const values: string[] = [];\n  const elements = els(\".item .value\", editorEl);\n  for (const el of elements) {\n    values.push(el.innerText);\n  }\n  const inputEl = req<HTMLInputElement>(\"input.result\", editorEl);\n  inputEl.value = values.join(\", \");\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nconst selected = \"--selected\";\n\nexport function setSiblingToNull(el: HTMLElement) {\n  const i = el.parentElement!.parentElement!.querySelector(\"input\");\n  if (!i) {\n    throw \"no associated input found\";\n  }\n  i.value = \"\u2205\";\n}\n\nexport function initForm(frm: HTMLFormElement) {\n  frm.onreset = () => initForm(frm);\n  let editorCache: { [key: string]: string; } = {};\n  let selectedCache: { [key: string]: HTMLInputElement; } = {};\n  for (const el of frm.elements) {\n    const input = el as HTMLInputElement;\n    if (input.name.length > 0) {\n      if (input.name.endsWith(selected)) {\n        selectedCache[input.name] = input;\n      } else {\n        if ((input.type !== \"radio\") || input.checked) {\n          editorCache[input.name] = input.value;\n        }\n        const evt = () => {\n          const cv = selectedCache[input.name + selected];\n          if (cv) {\n            cv.checked = editorCache[input.name] !== input.value;\n          }\n        };\n        input.onchange = evt;\n        input.onkeyup = evt;\n      }\n    }\n  }\n}\n\nexport function editorInit() {\n  (window as any).admini.setSiblingToNull = setSiblingToNull;\n  (window as any).admini.initForm = initForm;\n  for (const n of Array.from(document.querySelectorAll<HTMLFormElement>(\"form.editor\"))) {\n    initForm(n);\n  }\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nconst keys: string[] = []\n\nexport function themeInit() {\n  const x = document.querySelectorAll(\".color-var\");\n  if (x.length > 0) {\n    for (const el of Array.from(x)) {\n      const i = (el as HTMLInputElement)\n      const v = i.dataset[\"var\"] as string;\n      const m = i.dataset[\"mode\"] as string;\n      keys.push(v);\n      if (!v || v.length === 0) {\n        continue;\n      }\n      i.oninput = function () {\n        set(m, v, i.value);\n      }\n    }\n  }\n}\n\nfunction set(mode: string, key: string, v: string) {\n  const mockup = document.querySelector(\"#mockup-\" + mode);\n  if (!mockup) {\n    console.error(\"can't find mockup for mode [\" + mode + \"]\")\n    return;\n  }\n  switch (key) {\n    case \"color-foreground\":\n      setFG(mockup, \".mock-main\", v);\n      break;\n    case \"color-background\":\n      setBG(mockup, \".mock-main\", v);\n      break;\n    case \"color-foreground-muted\":\n      setFG(mockup, \".mock-main .mock-muted\", v);\n      break;\n    case \"color-background-muted\":\n      setBG(mockup, \".mock-main .mock-muted\", v);\n      break;\n    case \"color-link-foreground\":\n      setFG(mockup, \".mock-main .mock-link\", v);\n      break;\n    case \"color-link-visited-foreground\":\n      setFG(mockup, \".mock-main .mock-link-visited\", v);\n      break;\n    case \"color-nav-foreground\":\n      setFG(mockup, \".mock-nav\", v);\n      setFG(mockup, \".mock-nav .mock-link\", v);\n      break;\n    case \"color-nav-background\":\n      setBG(mockup, \".mock-nav\", v);\n      break;\n    case \"color-menu-foreground\":\n      setFG(mockup, \".mock-menu\", v);\n      setFG(mockup, \".mock-menu .mock-link\", v);\n      break;\n    case \"color-menu-background\":\n      setBG(mockup, \".mock-menu\", v);\n      break;\n    case \"color-menu-selected-foreground\":\n      setFG(mockup, \".mock-menu .mock-link-selected\", v);\n      break;\n    case \"color-menu-selected-background\":\n      setBG(mockup, \".mock-menu .mock-link-selected\", v);\n      break;\n    default:\n      console.error(\"invalid key [\" + key + \"]\")\n  }\n}\n\nfunction call(mockup: Element, sel: string, f: (el: HTMLElement) => void) {\n  const q = mockup.querySelectorAll(sel);\n  if (q.length == 0) {\n    throw \"empty query selector [\" + sel + \"]\"\n  }\n  q.forEach(x => {\n    f(x as HTMLElement);\n  })\n}\n\nfunction setBG(mockup: Element, sel: string, v: string) {\n  call(mockup, sel, el => el.style.backgroundColor = v);\n}\n\nfunction setFG(mockup: Element, sel: string, v: string) {\n  call(mockup, sel, el => el.style.color = v);\n}\n", "export function sortableInit() {\n  if ((window as any).Sortable) {\n    (window as any).admini.sortableEdit = sortableEdit;\n    for (const dd of Array.from(document.getElementsByClassName(\"sortable\"))) {\n      sortableCreate(dd);\n    }\n  }\n}\n\nexport function sortableEdit(el: Element) {\n  while (el.parentElement && !el.classList.contains(\"drag-container\")) {\n    el = el.parentElement;\n  }\n  el.classList.remove(\"readonly\");\n  sortableCreate(el);\n}\n\nfunction sortableCreate(dd: Element) {\n  const Sortable = (window as any).Sortable;\n  if (Sortable) {\n    let l = dd.querySelector(\".l\");\n    if (!l) {\n      l = dd;\n    }\n    const onAdd = (ev: Event) => {\n      const i = (ev as any).item as HTMLElement;\n      new Sortable(i.querySelector(\".container\"), lOpts);\n      (i.querySelector(\".remove\") as HTMLElement).onclick = function() { remove(dd, i); };\n      update(dd);\n    };\n    const lOpts = {group: {name: 'nested'}, handle: '.handle', onAdd: onAdd, onUpdate: () => update(dd), animation: 150, fallbackOnBody: true, swapThreshold: 0.65};\n    for (const c of Array.from(l.getElementsByClassName('container'))) {\n      new Sortable(c, lOpts);\n    }\n    for (const rem of Array.from(l.getElementsByClassName(\"remove\"))) {\n      (rem as HTMLElement).onclick = function() { remove(dd, rem.parentElement?.parentElement!); };\n    }\n\n    const r = dd.querySelector(\".r\");\n    if (r) {\n      const rOpts = {group: {name: 'nested', pull: \"clone\", put: false}, handle: '.handle', animation: 150, fallbackOnBody: true, swapThreshold: 0.65, sort: false};\n      for (const c of Array.from(r.getElementsByClassName('container'))) {\n        new Sortable(c, rOpts);\n      }\n    }\n    update(dd);\n  }\n}\n\nfunction remove(dd: Element, rem: Element) {\n  rem.remove();\n  update(dd);\n}\n\nfunction update(dd: Element) {\n  const sEl = document.querySelector(\".drag-state\") as HTMLInputElement;\n  if (!sEl) {\n    return;\n  }\n  const origEl = document.querySelector(\".drag-state-original\") as HTMLInputElement;\n  const trackedEl = dd.querySelector(\".tracked\") as HTMLElement;\n  const [i, count] = readContainer(trackedEl);\n  const js = JSON.stringify(i);\n  if (origEl) {\n    const changed = origEl.value !== js\n    if (origEl.value.length === 0) {\n      origEl.value = js;\n    }\n    const aEl = document.querySelector(\".drag-actions\") as HTMLElement;\n    if (aEl) {\n      if (changed) {\n        aEl.classList.remove('no-changes');\n      } else {\n        aEl.classList.add('no-changes');\n      }\n    }\n    const sEl = document.querySelector(\".drag-tracked-size\") as HTMLElement;\n    if (sEl) {\n      if (count === 1) {\n        sEl.innerText = count.toString(10) + (sEl.dataset.sing ? \" \" + sEl.dataset.sing: \"\");\n      } else {\n        sEl.innerText = count.toString(10) + (sEl.dataset.plur ? \" \" + sEl.dataset.plur: \"\");\n      }\n    }\n    if (changed) {\n      window.onbeforeunload = function() {\n        return true;\n      };\n    } else {\n      window.onbeforeunload = null;\n    }\n  }\n\n  sEl.value = js;\n}\n\ninterface Item {\n  k: string\n  t: string\n  p: string\n  c?: Item[]\n}\n\nfunction readContainer(c: Element): [Item[], number] {\n  if (c.children.length === 0) {\n    return [[], 0];\n  }\n  let count = 0;\n  const ret: Item[] = [];\n  for (const i of Array.from(c.children)) {\n    if (i.classList.contains(\"item\")) {\n      const [item, c] = readItem(i as HTMLElement);\n      if (item) {\n        ret.push(item);\n      }\n      count += c;\n    }\n  }\n  return [ret, count];\n}\n\nfunction readItem(i: HTMLElement): [Item | undefined, number] {\n  let count = 1;\n  let ret: Item = {\n    k: i.dataset.key as string,\n    t: i.dataset.title as string,\n    p: i.dataset.originalPath as string\n  };\n  for (const x of Array.from(i.children)) {\n    if (x.classList.contains(\"container\")) {\n      const [kids, c] = readContainer(x);\n      if (kids.length > 0) {\n        ret.c = kids;\n      }\n      count += c;\n    }\n  }\n  return [ret, count];\n}\n", "// $PF_IGNORE$\n\nimport {sortableInit} from \"./sortable\";\n\nexport function appInit(): void {\n  sortableInit();\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nimport \"./client.css\"\nimport {menuInit} from \"./menu\";\nimport {modeInit} from \"./mode\";\nimport {flashInit} from \"./flash\";\nimport {linkInit} from \"./link\";\nimport {timeInit} from \"./time\";\nimport {autocompleteInit} from \"./autocomplete\";\nimport {modalInit} from \"./modal\";\nimport {tagsInit} from \"./tags\";\nimport {editorInit} from \"./editor\";\nimport {themeInit} from \"./theme\";\nimport {appInit} from \"./app\";\n\nexport function init(): void {\n  (window as any).admini = {};\n  menuInit();\n  modeInit();\n  flashInit();\n  linkInit();\n  timeInit();\n  autocompleteInit();\n  modalInit();\n  tagsInit();\n  editorInit();\n  themeInit();\n  appInit();\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", init);\n"],
  "mappings": "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",
  "names": []
}
