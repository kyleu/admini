(()=>{var c="Admini";function m(){for(let e of Array.from(document.querySelectorAll(".menu-container .final")))e.scrollIntoView({block:"nearest"})}function f(){let e=document.getElementById("flash-container");if(e===null)return;let t=e.querySelectorAll(".flash");t.length>0&&setTimeout(()=>{for(let n of t){let o=n;o.style.opacity="0",setTimeout(()=>o.remove(),500)}},3e3)}var d="--selected";function u(){let e={},t={};for(let n of Array.from(document.querySelectorAll(".editor"))){let o=n,s=()=>{e={},t={};for(let a of o.elements){let r=a;if(r.name.length>0)if(r.name.endsWith(d))t[r.name]=r;else{(r.type!="radio"||r.checked)&&(e[r.name]=r.value);let l=()=>{t[r.name+d].checked=e[r.name]!=r.value};r.onchange=l,r.onkeyup=l}}console.log(e)};o.onreset=s,s()}}function g(){let e=window.lmdd;if(e)for(let n of Array.from(document.getElementsByClassName("drag-container"))){var t={containerClass:"container",draggableItemClass:"item",handleClass:""};n.getElementsByClassName("handle").length>0&&(t.handleClass="handle"),e.set(n,t),n.addEventListener("lmddend",function(o){i(n,o)},!1);for(let o of Array.from(n.getElementsByClassName("remove")))o.onclick=function(){p(n,o.parentElement?.parentElement)};i(n,null)}}function p(e,t){t.remove(),i(e,null)}function i(e,t){if(t){let s=t.detail.to;if(s){console.log(s.index,s.container.children.item(s.index));let a=s.container.children.item(s.index);for(let r of Array.from(a.getElementsByClassName("remove")))r.onclick===null&&(r.onclick=function(){p(e,a)})}}let n=e.getElementsByClassName("drag-state");if(n.length!=1)return;let o=e.getElementsByClassName("tracked");if(o.length>1)throw"too many tracked drag/drops";if(o.length==1){let s=o.item(0);n[0].value=JSON.stringify(h(s))}}function h(e){let t=[];for(let n of Array.from(e.children))if(n.classList.contains("item")){let o=y(n);o&&t.push(o)}return t}function y(e){var t={k:e.dataset.key,p:e.dataset.originalPath};for(let n of Array.from(e.children))if(n.classList.contains("container")){let o=h(n);o.length>0&&(t.c=o)}return t}function E(){console.log("["+c+"]"),m(),f(),u(),g()}document.addEventListener("DOMContentLoaded",E);})();
//# sourceMappingURL=client.js.map
