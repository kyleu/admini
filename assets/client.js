(()=>{var f="Admini";function d(){for(let e of Array.from(document.querySelectorAll(".menu-container .final")))e.scrollIntoView({block:"nearest"})}function u(){let e=document.getElementById("flash-container");if(e===null)return;let n=e.querySelectorAll(".flash");n.length>0&&setTimeout(()=>{for(let o of n){let s=o;s.style.opacity="0",setTimeout(()=>s.remove(),500)}},3e3)}var g="--selected";function p(){let e={},n={};for(let o of Array.from(document.querySelectorAll(".editor"))){let s=o,a=()=>{e={},n={};for(let i of s.elements){let t=i;if(t.name.length>0)if(t.name.endsWith(g))n[t.name]=t;else{(t.type!=="radio"||t.checked)&&(e[t.name]=t.value);let l=()=>{n[t.name+g].checked=e[t.name]!==t.value};t.onchange=l,t.onkeyup=l}}console.log(e)};s.onreset=a,a()}}function h(){let e=window.lmdd;if(e)for(let o of Array.from(document.getElementsByClassName("drag-container"))){var n={containerClass:"container",draggableItemClass:"item",handleClass:""};o.getElementsByClassName("handle").length>0&&(n.handleClass="handle"),e.set(o,n),o.addEventListener("lmddend",function(s){m(o,s)},!1);for(let s of Array.from(o.getElementsByClassName("remove")))s.onclick=function(){E(o,s.parentElement?.parentElement)};m(o,null)}}function E(e,n){n.remove(),m(e,null)}function m(e,n){if(n){let t=n.detail.to;if(t){console.log(t.index,t.container.children.item(t.index));let l=t.container.children.item(t.index);for(let r of Array.from(l.getElementsByClassName("remove")))r.onclick===null&&(r.onclick=function(){E(e,l)})}}let o=e.getElementsByClassName("drag-state");if(o.length!==1)return;let s=o.item(0),a=e.getElementsByClassName("drag-state-original"),i=e.getElementsByClassName("tracked");if(i.length>1)throw"too many tracked drag/drops";if(i.length===1){let t=i.item(0),l=JSON.stringify(y(t));if(a.length===1){let r=a.item(0);r.value.length===0&&(r.value=l);let c=e.getElementsByClassName("action-buttons");c.length===1&&(c.item(0).style.display=r.value===l?"none":"block")}s.value=l}}function y(e){let n=[];for(let o of Array.from(e.children))if(o.classList.contains("item")){let s=I(o);s&&n.push(s)}return n}function I(e){var n={k:e.dataset.key,p:e.dataset.originalPath};for(let o of Array.from(e.children))if(o.classList.contains("container")){let s=y(o);s.length>0&&(n.c=s)}return n}function L(){console.log("["+f+"]"),d(),u(),p(),h()}document.addEventListener("DOMContentLoaded",L);})();
//# sourceMappingURL=client.js.map
